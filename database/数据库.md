## mysql与数据库相关
mysql引擎：

常用的MyISAM与InnoDB的区别
MyISAM是默认表类型，传统的ISAM类型，不支持事务，不支持外健，只支持表锁，
默认支持FULLTEXT索引，适用于大量select和insert的场景。

InnoDB是事务型引擎，默认支持行级锁，支持外健约束，有大量的update和insert建议使用

数据库事务的四个属性
ACID：原子性、一致性、隔离性和持久性
原子性指事务中的操作要么全部完成、要么一个都不完成，使用回滚日志的方式实现
一致性指事务的执行期间，查询到的结果为事务执行前的状态，事务执行完毕，查询到的结果为执行后的状态，不存在执行时的状态
隔离性指事务并发执行时，多个事务之间互不干扰，通过各种锁来实现
持久性：事务一旦提交成功，修改是永久生效的，即使是数据库出了故障，也不会丢失提交事务的操作

## 不注意隔离性会造成的危害

1. 脏读：一个事务更新数据时，另一个事务读取了还未提交的数据
2. 不可重复读：一个事务对数据的两次读取结果不一样，与脏读的区别是第二次的是已提交的结果
3. 幻读： 一个读取事务读取时，另一个事务插入新数据，会读到一条新纪录，这就是幻读

## 数据库隔离级别
由高到低
1. 串行化：所有事务强制排序进行，对读取的行加共享锁，可解决三种危害
2. 可重复读：多个实例并发执行时，查看的是相同的数据行，不能解决幻读，InnoDB默认隔离类型，使用多版本并发控制解决幻读问题
3. 读已提交：所有事物只能查看已提交的数据，不能解决幻读、不可重复读
4. 读未提交：所有事务都能查看违背提交的数据，不能消除任何危害

## mysql索引
MyISAM支持FULLTEXT索引，MyISAM索引与数据分开保存
InnoDB支持B+树索引、Hash索引，InnoDB与表空间一起保存
对数据量小的表不适合建立索引，对全表查找比对索引查找可能更快
对数据量巨大的表不适合建立索引，维护索引的数据结构也需要占用大量的空间

## mysql锁
表级锁、行级锁、共享锁、排它锁

## 乐观锁与悲观锁的区别
乐观锁假定不会发生冲突，真正冲突的时候再通过事务回滚解决
悲观锁假定一定会发生冲突，事务必须等待获取锁后才能进行事务操作